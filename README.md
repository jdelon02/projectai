# ProjectAI

A powerful initialization script that extends Agent OS functionality to set up AI-assisted development projects with IDE-specific configurations, using templates from GitHub.

## Overview

ProjectAI automatically:
- 🔍 Validates your Agent OS installation and project types
- 🔗 Creates symbolic links to Agent OS resources and project-specific directories
- 🤖 Configures AI coding tools (Claude Code, VS Code with GitHub Copilot, or Cursor IDE)
- 📂 Downloads and customizes project templates from GitHub
- ⚙️ Sets up IDE-specific configurations with proper references to commands and prompts
- 🔄 Supports comma-separated input for multiple project types
- 🌐 Fetches all templates and IDE-specific scripts from GitHub for consistency

### Directory Structure

When ProjectAI initializes a project, it creates the following structure:

```
your-project/
├── reference-docs/           # Symlinked Agent OS resources
│   ├── commands/            # Source of truth for commands
│   │   ├── common/         # Shared commands
│   │   └── project-specific/ # Project type specific commands
│   ├── prompts/            # Source of truth for prompts
│   │   ├── common/         # Shared prompts
│   │   └── project-specific/ # Project type specific prompts
│   ├── standards/          # Project standards
│   ├── instructions/       # Development instructions
│   ├── chatmodes/         # AI chat configurations
│   └── [project-types]/   # Project-specific resources
├── .github/                # GitHub-specific files
│   └── prompts/           # Symlink to reference-docs/prompts
└── [IDE-specific files]   # Generated by IDE setup scripts

## Prerequisites

**Agent OS must be installed first:**
```bash
curl -sSL https://raw.githubusercontent.com/jdelon02/agent-os/main/setup.sh | bash
```

## Installation

There are two main ways to install ProjectAI: **Automatic** (recommended) or **Manual**.

### 🤖 Automatic Installation (Recommended)

The easiest way is to use our auto-installer:

```bash
curl -sSL https://raw.githubusercontent.com/jdelon02/projectai/main/install.sh | bash
```

This script will:
- ✅ Detect your shell (zsh, bash, etc.)
- ✅ Add the `projectai` alias to your shell configuration
- ✅ Handle duplicate detection
- ✅ Provide clear next steps

### ⚙️ Manual Installation

If you prefer to set things up yourself, add this alias to your shell configuration:

**For Zsh users (macOS default):**
```bash
echo "alias projectai='curl -sSL https://raw.githubusercontent.com/jdelon02/projectai/main/projectai.sh | bash -s --'" >> ~/.zshrc
source ~/.zshrc
```

**For Bash users:**
```bash
echo "alias projectai='curl -sSL https://raw.githubusercontent.com/jdelon02/projectai/main/projectai.sh | bash -s --'" >> ~/.bashrc
source ~/.bashrc
```

**For Fish shell users:**
```bash
echo "alias projectai='curl -sSL https://raw.githubusercontent.com/jdelon02/projectai/main/projectai.sh | bash -s --'" >> ~/.config/fish/config.fish
source ~/.config/fish/config.fish
```

### 🚀 Alternative Usage Options

**One-time use (no installation required):**
```bash
curl -sSL https://raw.githubusercontent.com/jdelon02/projectai/main/projectai.sh | bash -s -- <project_type> [additional_types...]
```

**Advanced shell function (for enhanced error handling):**
```bash
projectai() {
    if [ $# -eq 0 ]; then
        echo "Usage: projectai <primary_project_type> [additional_project_types...]"
        echo "Example: projectai drupal php mysql css javascript lando"
        return 1
    fi
    
    echo "🚀 Running ProjectAI with: $*"
    curl -sSL https://raw.githubusercontent.com/jdelon02/projectai/main/projectai.sh | bash -s -- "$@"
}
```

### ✅ Verify Installation
After installation, test it works:
```bash
projectai --help  # Should show usage information
```

**All installation methods run the script directly from GitHub - no local files needed!**

## Usage

### Basic Syntax
```bash
projectai <primary_project_type>[,additional_type1,additional_type2,...]
```

### Examples

**Single project type:**
```bash
projectai drupal
```

**Multiple project types (comma-separated):**
```bash
projectai drupal,php,mysql,css,javascript,lando
```

**Multiple project types (space-separated, legacy mode):**
```bash
projectai drupal php mysql css javascript lando
```

**Common project combinations:**
```bash
projectai react,typescript,tailwind  # React project
projectai python,fastapi,postgresql  # Python API project
projectai nodejs,express,mongodb     # Node.js backend
```

### Parameters

- **`primary_project_type`** (required): The main technology/framework for your project
- **`additional_project_types`** (optional): Supporting technologies, tools, or frameworks

**Note:** All project types must exist in your Agent OS installation (`~/.agent-os/`). If missing types are detected, the script will:
1. Show which types are missing
2. Provide the command to install them
3. Ask if you want to continue with available types only

## Interactive Setup

After running the command, you'll be prompted to select your AI coding tool:

```
🤖 Which AI coding tool are you using?

1) Claude Code (Anthropic's desktop app)
   - Uses CLAUDE.md files for instructions
   - Supports /plan-product, /create-spec, /execute-task commands

2) VS Code with GitHub Copilot
   - Uses .github/instructions/main.instructions.md files
   - Works with GitHub Copilot and other extensions

3) Cursor IDE
   - Uses .cursorrules files for configuration
   - Integrated AI-powered code editor
```

### IDE Support

When running ProjectAI, you'll choose your IDE:

1. **Claude Code (Anthropic)**
   - Creates: `CLAUDE.md`
   - Supports: Agent OS commands (`/plan-product`, `/create-spec`, etc.)
   - Templates: Fetched from `project_templates/claude-code/`

2. **VS Code with GitHub Copilot**
   - Creates: 
     - `.github/instructions/main.instructions.md`
     - `.github/copilot-instructions.md`
     - `.vscode/project-name.code-workspace`
   - Supports: Copilot Chat commands and auto-configuration
   - Templates: Fetched from `project_templates/.github/` and `.vscode/`

3. **Cursor IDE**
   - Creates: `.cursorrules`
   - Supports: Built-in AI features
   - Templates: Fetched from `project_templates/cursor-ide/`

### Generated Files

Each IDE setup includes:
- IDE-specific instruction files
- Project templates (from GitHub)
- Customized configurations
- Documentation

Directory structure after setup:
```
your-project/
├── .github/                    # For VS Code/Copilot
│   ├── instructions/
│   │   └── main.instructions.md
│   └── copilot-instructions.md
├── .vscode/                    # VS Code specific
│   ├── project.code-workspace
│   └── settings.json
├── CLAUDE.md                   # For Claude Code
├── .cursorrules               # For Cursor IDE
└── [template directories]/    # Additional project files
```

## Project Structure After Setup

```
your-project/
├── CLAUDE.md or .cursorrules or .github/instructions/
├── .vscode/ (if using VS Code)
│   ├── your-project.code-workspace
│   ├── settings.json
│   └── tasks.json
├── docs/
│   └── README.md
├── src/
└── [other template directories]/
```

## Template Customization

All template files support these placeholders:
- `<PROJECTTYPE>` - Your primary project type
- `<DIRECTORY_NAME>` - Your project directory name
- `<ADDITIONAL_TYPES>` - Space-separated additional project types
- `<ALL_TYPES>` - All project types combined

## Troubleshooting

### Agent OS Not Found
```
❌ Error: Agent OS not found at ~/.agent-os
```
**Solution:** Install Agent OS first:
```bash
curl -sSL https://raw.githubusercontent.com/jdelon02/agent-os/main/setup.sh | bash
```

### Missing Project Types
```
⚠️ Warning: The following project types are not installed in Agent OS:
    - some-type
```
**Solution:** Install missing types:
```bash
curl -sSL https://raw.githubusercontent.com/jdelon02/agent-os/main/setup.sh | bash -s -- --dirs "some-type,another-type"
```

### Network Connection Issues
```
❌ Error: Cannot connect to GitHub
```
**Solution:** Check your internet connection and try again.

### Permission Errors
**Solution:** Ensure you have write permissions in the current directory.

## Advanced Usage

### Running in a Specific Directory
```bash
cd /path/to/your/project
curl -sSL https://raw.githubusercontent.com/jdelon02/projectai/main/projectai.sh | bash -s -- drupal php
```

### Custom GitHub Repository
If you've forked this project, you can use your own repository:
```bash
# Edit the BASE_URL in the script
BASE_URL="https://raw.githubusercontent.com/YOUR_USERNAME/projectai/main"
```

## Contributing

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add some amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

### Adding New IDE Support

1. Create a handler file in `ide_specific/new-ide.sh`
2. Implement `create_new_ide_instruction_file()` function
3. Update the IDE selection prompt in `projectai.sh`
4. Add the new case to the switch statement

See `ide_specific/README.md` for detailed instructions.

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## Related Projects

- [Agent OS](https://github.com/jdelon02/agent-os) - Structured AI-assisted development methodology
- [Builder Methods](https://buildermethods.com/agent-os) - Learn more about Agent OS

## Support

- 📖 [Documentation](https://buildermethods.com/agent-os)
- 🐛 [Issues](https://github.com/jdelon02/projectai/issues)
- 💬 [Discussions](https://github.com/jdelon02/projectai/discussions)

---

*ProjectAI extends Agent OS with automated project initialization and IDE-specific AI tool configuration.*

## Symlink Strategy

ProjectAI uses symbolic links to make Agent OS resources available in your project:

### Global Resources
- Standards, instructions, commands, chatmodes, and prompts from `~/.agent-os/` are symlinked into `reference-docs/`
- All symlinks are validated during creation to ensure proper permissions and access

### Project-Type Resources
- Project-specific resources from `~/.agent-os/<project-type>/` are symlinked into `reference-docs/<project-type>/`
- Supports multiple project types with automatic validation and error handling

### IDE Integration
Each supported IDE accesses these resources differently:

1. **VS Code/GitHub Copilot**
   - Prompts: Via `.github/prompts` symlink to `reference-docs/prompts`
   - Commands: Configured in `.vscode/settings.json`
   - AI Settings: Optimized for GitHub Copilot

2. **Claude Code**
   - Commands and prompts referenced directly from `reference-docs/`
   - Integration configured in auto-generated `CLAUDE.md`
   - Uses relative paths for portability

3. **Cursor IDE**
   - Commands and prompts configured in `.cursorrules`
   - Auto-generated configuration from templates
   - Direct references to `reference-docs/` content

## Maintenance

### Adding New Resources
Use the maintenance script to add new commands or prompts:
```bash
# Add a new command
./scripts/maintenance.sh add-command <name> <type> <content>

# Add a new prompt
./scripts/maintenance.sh add-prompt <name> <type> <content>
```

### Updating Symlinks
To update symlinks in an existing project:
```bash
projectai --update-symlinks
```

### Validating Setup
Check your project's symlink structure and paths:
```bash
./scripts/maintenance.sh validate
```

## Troubleshooting

### Common Issues

1. **Missing Symlinks**
   ```bash
   # Verify Agent OS installation
   ls ~/.agent-os/
   
   # Update symlinks
   projectai --update-symlinks
   ```

2. **Permission Errors**
   ```bash
   # Check directory permissions
   ls -la reference-docs/
   
   # Fix permissions if needed
   chmod 755 reference-docs/
   projectai --update-symlinks
   ```

3. **Invalid Project Types**
   - Ensure project types are installed in `~/.agent-os/`
   - Use lowercase names for project types
   - Install missing types using Agent OS setup

### IDE-Specific Issues

1. **VS Code**
   - Verify `.github/prompts` symlink exists
   - Check `.vscode/settings.json` for correct paths
   - Ensure GitHub Copilot is properly configured

2. **Claude**
   - Verify `CLAUDE.md` contains correct references
   - Check relative paths in `reference-docs/`
   - Regenerate using `projectai --regenerate-claude`

3. **Cursor**
   - Check `.cursorrules` configuration
   - Verify paths in configuration file
   - Regenerate using `projectai --regenerate-cursor`
